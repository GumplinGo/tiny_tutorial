### å•°å—¦å‰è¨€
æœ¬æ•™ç¨‹å°†å®Œæˆä¸€ä¸ªé¡µé¢ï¼šæŸ¥çœ‹ä»Šå¹´æ—¶é—´è¿›åº¦ï¼Œå…·ä½“æ•ˆæœå¯ä»¥[ç‚¹å‡»è¿™é‡Œ](http://almostdoit.club/)ã€‚é¡µé¢å¾ˆç®€å•ã€‚å†™æˆä¸€ç¯‡å°æ•™ç¨‹ï¼Œä¸€æ˜¯å­¦ä¹ æ€»ç»“ï¼Œè¾“å‡ºï¼Œä»¥æ•™ä¸ºå­¦ï¼›äºŒæ˜¯å¸Œæœ›èƒ½å¸®åŠ©æ–°äººå­¦ä¹ ã€‚å¦‚æœ‰ä¸è¶³æˆ–ç–æ¼ï¼Œè¯·æŒ‡å‡ºï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ”¹ï¼Œé¿å…è¯¯äººã€‚

### è„‰ç»œæçº²
æœ¬æ•™ç¨‹å°†ä»æœ€ç®€å•çš„æ–°å»ºä¸€ä¸ªhtmlé¡µé¢å¼€å§‹ï¼Œç”¨æœ€åŸå§‹çš„htmlã€cssã€jsæ¥å®ç°é¡µé¢ï¼Œæ¥ç€åœ¨é¡µé¢å®ç°çš„åŸºç¡€ä¸Šï¼Œæ”¹ç”¨es7çš„classå®ç°ç›¸åŒçš„æ•ˆæœï¼Œè€Œåï¼Œå¼€å§‹å€ŸåŠ©nodeç¯å¢ƒã€npmåŒ…ç®¡ç†ï¼Œç”¨webpackè¿›è¡Œå‰ç«¯å·¥ç¨‹åŒ–ï¼Œè®©æœ€ç»ˆå‡ºæ¥çš„ä»£ç ï¼šjsè½¬ä¸ºES5ï¼Œcssä»£ç æ·»åŠ å‚å•†å‰ç¼€
- 1.å•é¡µé¢htmlå®ç°ä»Šå¹´æ—¶é—´è¿›åº¦å±•ç¤º
- 2.é¡µé¢æ–‡ä»¶æ‹†åˆ†(js,cssåˆ†ç¦»)ä»¥åŠé‡‡ç”¨ES6ä»¥ä¸Šæ–°è¯­æ³•
- 3.webpackå‰ç«¯å·¥ç¨‹åŒ–

### å‰ç½®çŸ¥è¯†
æœ¬æ•™ç¨‹é¢å‘æ–°æ‰‹ï¼Œä½†è¿˜æ˜¯éœ€è¦æœ‰ä¸€ç‚¹å‰ç½®çŸ¥è¯†ï¼šjsã€cssæ‡‚ä¸€ç‚¹ï¼Œgitä»“åº“ç®¡ç†å’ŒnpmåŒ…ç®¡ç†æ‡‚ä¸€ç‚¹ï¼Œå³ä½¿éƒ¨åˆ†ä¸æ‡‚ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œé€šè¿‡æ•™ç¨‹ä¹Ÿç®—æ˜¯äº†è§£ä¸€ç‚¹ã€‚è¿™é‡Œéœ€è¦gitçŸ¥è¯†ï¼Œæ˜¯å› ä¸ºæˆ‘å°†æ•™ç¨‹çš„æ¯ä¸ªé˜¶æ®µéƒ½å¼„æˆä¸€ä¸ªåˆ†æ”¯ï¼Œæ–¹ä¾¿è¯»è€…æŠ ç»†èŠ‚

### é£Ÿç”¨å»ºè®®
æ•™ç¨‹ä»£ç å·²ç»æ¨åˆ°[è¿œç¨‹ä»“åº“](https://github.com/guojianglin/tiny_tutorial), æ¯ä¸€å¤§èŠ‚éƒ½åˆ‡å‡ºä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯ä¸€ä¸ªå°èŠ‚ä¹Ÿæ˜¯å¯¹åº”çš„ä¸€ä¸ªcommit, åœ¨é˜…è¯»æ•™ç¨‹è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥åˆ‡æ¢åˆ°å¯¹åº”çš„åˆ†æ”¯è¿›è¡Œæ­é…é£Ÿç”¨, å¦‚æœ‰éœ€è¦ï¼Œè¿˜å¯ä»¥å€ŸåŠ©å·¥å…·ï¼ŒæŸ¥çœ‹å‰åä¸¤ä¸ªcommitçš„å˜åŒ–

ç›²çŒœè¯»è€…ä¼šç”¨åˆ°çš„gitå‘½ä»¤
```
git clone https://github.com/guojianglin/tiny_tutorial.git

git pull -a
git branch

git checkout 1.å•é¡µé¢htmlå®ç°ä»Šå¹´æ—¶é—´è¿›åº¦å±•ç¤º
git checkout 2.é¡µé¢æ–‡ä»¶æ‹†åˆ†(js,cssåˆ†ç¦»)ä»¥åŠé‡‡ç”¨ES6ä»¥ä¸Šæ–°è¯­æ³•
git checkout 3.webpackå‰ç«¯å·¥ç¨‹åŒ–

git log --oneline
```

### 1. å•æ–‡ä»¶htmlé¡µé¢å®ç°ä»Šå¹´æ—¶é—´è¿›åº¦å±•ç¤º 
#### 1.1 é¡¹ç›®åˆ›å»º
æ–°å»ºæ–‡ä»¶å¤¹ï¼Œå‘½åä¸º`tiny_tutorial`, ç”¨`vscode`æ‰“å¼€, åœ¨`tiny_tutorial`ç›®å½•æ–°å»ºä¸€ä¸ªæ–‡ä»¶`index.html`, åœ¨`index.html`è¾“å…¥`!`å¹¶å›è½¦ï¼Œ`vscode`ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç©ºhtmlæ¨¡æ¿ï¼Œå¦‚å›¾ï¼š
![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8dea94a8cb0445edbfe0bf2bfe77dc61~tplv-k3u1fbpfcp-zoom-1.image)
#### 1.2 htmléª¨æ¶åŠæ ·å¼çš„å®ç°
è¿™ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯é™æ€æ ·å¼çš„å®ç°ï¼Œä¸åšè¿‡å¤šè§£é‡Šï¼Œå¯¹äºæ ·å¼ä¸Šä¸æ‡‚ï¼Œå¯ä»¥Googleæˆ–è€…Baiduã€‚
è¿™é‡Œç”¨äº†ä¸€å¼ èƒŒæ™¯å›¾
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85427f7670804a8c86842cdbd7968557~tplv-k3u1fbpfcp-zoom-1.image)
htmléª¨æ¶
```html
  <div class="page-container">
    <div class="refresh-btn">åˆ·æ–°ä¸€ä¸‹</div>

    <div class="message-wraper">
        <div class="title">Your <span class="year">2099</span> Progress</div>

        <div  class="message">
            <span class="year">2099</span>å·²ç»æºœèµ°<span class="days-has-past">1</span>å¤©äº†, è¿‡äº†
            <span class="percent"></span>%
        </div>

        <div class="progress-container"></div>
    </div>
  </div>
```
cssæ ·å¼
```css
    body, html {
      margin: 0;
      padding: 0;
      color: rosybrown;
      height: 100%;
    }
    .page-container {
      height: calc(100vh);
      display: flex;
      align-items: center;
      justify-content: center;
      background-image: url('./Chihiro.jpg');
      background-repeat: repeat;
      background-size: contain;
      background-position: center;
      flex-direction: column;
    }
    .page-container .refresh-btn {
      height: 50px;
      line-height: 50px;
      padding: 0 20px;
      color: #333;
      font-size: 20px;
      font-weight: 900;
      background-color: greenyellow;
      border-radius: 5px;
      margin-bottom: 20px;
      box-shadow: lightblue 2px 4px 10px;
    }
    .refresh-btn:hover {
      cursor: pointer;
      background-color: rgb(91, 201, 238);
      color: white;
    }
    .message-wraper {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      background-color: rgba(0, 0, 0, .5);
      width: 80%;
      margin: 0 30px;
      padding: 20px;
    }
    .message-wraper .title {
      text-align: center;
      font-size: 6vw;
      padding: 10px;
      margin-bottom: 30px;
      font-weight: bolder;
      color: whitesmoke;
    }
    .message-wraper .message {
      margin-bottom: 20px;
    }
    .message .year {
      font-weight: bold;
    }
    .message .days-has-past, .message .percent {
      font-weight: bold;
      color: greenyellow;
    }
    .message .days-has-past {
      opacity: 1;
      font-size: 80px;
    }
    .message .percent {
      opacity: 1;
      font-size: 21px;
    }
    .message-wraper .progress-container {
      border-radius: 15px;
      width: 60%;
      height: 27px;
      background-color: pink;
      display: flex;
      justify-content: stretch;
      overflow-x: hidden;
    }
    .progress-container .finish {
      background-image: linear-gradient(45deg,
      #f3f730 25%,
      #000000 0,
      #000000 50%,
      #f3f730 0,
      #f3f730 75%,
      #000000 0);
      background-size:15px 15px;
      width: 0%;
      transition: all 3s ease-in;
    }
```
åˆ°è¿™é‡Œçš„é¡µé¢æ•ˆæœå¦‚å›¾
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/878ac2bd8860437bb3a9af50bce865b9~tplv-k3u1fbpfcp-zoom-1.image)
#### 1.3 é¡µé¢äº¤äº’çš„jså®ç°
æœ€ç»ˆçš„æ•ˆæœæ˜¯ï¼šé¡µé¢åŠ è½½å®Œæˆï¼Œè®¡ç®—å‡ºä»Šå¹´å·²ç»è¿‡å»å¤šå°‘äº†ï¼Œç”¨è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œå¹¶ä¸”è¿›åº¦æ¡å’Œç™¾åˆ†æ¯”éœ€è¦æœ‰é€æ¸å¢åŠ çš„â€œåŠ¨ç”»æ•ˆæœâ€ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®èƒ½å¤Ÿé‡æ–°è®¡ç®—å¹¶æ‰§è¡ŒåŠ¨ç”»ã€‚è¿™å…¶ä¸­æ¶‰åŠçš„è®¡ç®—å¯èƒ½æœ‰äº›ç¹çï¼Œä½†ä¸ç®—éš¾ï¼Œè¿™é‡Œç¯‡å¹…æœ‰é™ï¼Œå°±ä¸ä½œè¿‡å¤šè§£é‡Šï¼Œ[ç‚¹å‡»è¿™é‡Œä½“éªŒäº¤äº’æ•ˆæœ](http://almostdoit.club/)
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/501c50b9f1594c078557460f27c2efc0~tplv-k3u1fbpfcp-zoom-1.image)
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/141cfd197f614d4b89a2c05ebdcf1972~tplv-k3u1fbpfcp-zoom-1.image)

### 2.é¡µé¢æ–‡ä»¶æ‹†åˆ†(js,cssåˆ†ç¦»)ä»¥åŠé‡‡ç”¨ES6ä»¥ä¸Šæ–°è¯­æ³•
#### 2.1é¡µé¢æ–‡ä»¶æ‹†åˆ†(js,cssåˆ†ç¦»)
è¿™ä¸€æ­¥ç›¸å½“ç®€å•ï¼Œåªæ˜¯å°†csså’Œjséƒ¨åˆ†åˆ†åˆ«æŠ½ç¦»åˆ°å•ç‹¬çš„æ–‡ä»¶å¤¹ï¼Œå¹¶å°†å…¶é“¾æ¥çš„åˆ°htmlé¡µé¢
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12ab9b04e11343a9aa39f18cbeb9ff96~tplv-k3u1fbpfcp-zoom-1.image)

#### 2.2é‡‡ç”¨ES6ä»¥ä¸Šæ–°è¯­æ³•ç‰¹æ€§
è¿™ä¸€éƒ¨åˆ†ä¹Ÿæ²¡é‚£ä¹ˆéš¾ï¼Œå‡ ä¹å°±æ˜¯æŠŠæ–¹æ³•å’Œå˜é‡æ¬åˆ°classé‡Œé¢ï¼Œæ”¹ç”¨ç®­å¤´å‡½æ•°ï¼Œå¹¶ä¸”æ³¨æ„`this`æŒ‡å‘ã€‚ï¼ˆè¿™ä¸€éƒ¨åˆ†æ“ä½œï¼Œä¸»è¦æ˜¯ä¸ºäº†åé¢webpackæ‰“åŒ…ï¼Œç¼–è¯‘æˆES5åšå‡†å¤‡ï¼‰
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7ebaa2b4b6b4e1fa4c2df1816aae09c~tplv-k3u1fbpfcp-zoom-1.image)

### 3.webpackå‰ç«¯å·¥ç¨‹åŒ–(å®‰è£…nodeç¯å¢ƒè¿™ä¸€éƒ¨åˆ†è‡ªå·±Googleæˆ–Baidu)
#### 3.1 npm åˆå§‹åŒ–å¹¶æ·»åŠ .gitignore
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢æ‰§è¡Œï¼š`npm init -y`ï¼Œè¿™ä¸€æ­¥å°†åœ¨é¡¹ç›®ä¸‹é¢æ·»åŠ ä¸€ä¸ª`package.json`æ–‡ä»¶

æ·»åŠ .gitignoreæ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­å†™å…¥`node_modules
dist`ï¼Œè¿™æ˜¯å°†è¿™å†™å…¥çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹å¿½ç•¥ä¸æäº¤åˆ°gitä»“åº“ï¼Œè™½ç„¶ç°åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹è¿˜ä¸å­˜åœ¨
![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c352a539cad4379a291f4428d1b14cd~tplv-k3u1fbpfcp-zoom-1.image)

#### 3.2 webpackå‰ç«¯å·¥ç¨‹åŒ–å‡†å¤‡
é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…webpackä¾èµ–,å…¶ä¸­`webpack`æ˜¯æ ¸å¿ƒä»£ç åŒ…ï¼Œ`webpack-cli`æ˜¯å‘½ä»¤è¡Œå·¥å…·
```
npm install webpack webpack-cli --save-dev
// or
cnpm install webpack webpack-cli --save-dev
```
æ¥ç€ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é¢æ–°å»ºä¸€ä¸ªwebpacké…ç½®æ–‡ä»¶`webpack.config.js`,è¿™æ˜¯webpackæœ€ç®€å•çš„é…ç½®ï¼Œé…ç½®äº†å…¥å£æ–‡ä»¶å’Œè¾“å‡ºä½ç½®
```js
const path = require('path');

module.exports = {
  mode: 'none',
  entry: './index.js',
  output: {
    filename: 'main.js',
    path: path.resolve(__dirname, 'dist'),
  },
};
```
æ¥ç€ï¼Œæˆ‘ä»¬åœ¨`package.json`æ–‡ä»¶ä¸­çš„`scripts`æ·»åŠ ä¸€å¥å‘½ä»¤ï¼Œæ·»åŠ è¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©`npm`æ¥å¸®å¿™æ‰§è¡Œæ‰“åŒ…å‘½ä»¤äº†,åªè¦æ‰§è¡Œ`npm run build`(ç›¸å½“äº`npx webpack --config ./webpack.config.js`ï¼‰å°±å¯ä»¥æ‰“åŒ…äº†ï¼Œæ‰“åŒ…å®Œä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°å¤šäº†distæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª`main.js`çš„æ–‡ä»¶
```json
 "scripts": {
    "build": "webpack --config ./webpack.config.js"
  },
```
æŠŠæ‰“åŒ…å‡ºæ¥`main.js`æ–‡ä»¶ï¼Œåœ¨htmlä¸­å¼•å…¥ï¼Œå‘ç°ä¸€æ ·èƒ½å®ç°äº¤äº’æ•ˆæœã€‚
è¿™ä¸ªæ—¶å€™é—®é¢˜å°±æ¥äº†ï¼šæ—¢ç„¶åªæ˜¯å¤„ç†ä¸€ä¸‹jsæ–‡ä»¶ï¼Œå¥½åƒä¹Ÿæ²¡å¸¦æ¥å¤šå°‘å¥½å¤„å•Šï¼Ÿé‚£æ˜¯å› ä¸ºæˆ‘ä»¬åªæ˜¯é…ç½®äº†æœ€ç®€å•çš„æ‰“åŒ…ï¼Œ`module`å’Œ`plugins`é…ç½®æ‰æ˜¯è®©webpackæ´»èµ·æ¥çš„çµé­‚
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fe97a2e9b2684817b0988adf2583c967~tplv-k3u1fbpfcp-zoom-1.image)

**ä»¥å‰æˆ‘ä»¬çš„jsæ–‡ä»¶ï¼Œé‡Œé¢å¼•å…¥çš„æ–‡ä»¶ï¼Œéƒ½åªæ˜¯jsæ–‡ä»¶ï¼Œå¦‚æœå¼•å…¥cssæ–‡ä»¶æˆ–è€…å›¾ç‰‡ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„æ—¶å€™è‚¯å®šä¼šæŠ¥é”™ï¼Œè€Œæˆ‘ä»¬æœ‰äº†`webpack`ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥åœ¨jsé‡Œé¢å¼•å…¥å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œç„¶åé€šè¿‡é…ç½®loaderæ¥è§£æä¸åŒçš„æ–‡ä»¶ï¼Œæœ€ç»ˆæ‰“åŒ…å‡ºå¯ä»¥æ‰§è¡Œçš„æ–‡ä»¶**

#### 3.3 webpacké…ç½®å®è·µ
è¿™ä¸€å°èŠ‚çš„é…ç½®ï¼Œæˆ‘æ˜¯å‚è€ƒç€æ˜é‡‘ä½œè€…å®«å°ç™½çš„æ–‡ç« [webpackâ€”â€”ä»åŸºç¡€ä½¿ç”¨åˆ°æ‰‹åŠ¨å®ç°](https://juejin.im/post/6847009773448069128#heading-20)è¿›è¡Œé…ç½®çš„ï¼Œä»–å·²ç»å°†ä¸€äº›é…ç½®è¿›è¡Œäº†è§£è¯´ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘å®ç°çš„æ­¥éª¤ä¸ä¼šè¯¦ç»†è®²è§£ï¼Œå¦‚æœç–‘é—®ï¼Œå¤§å®¶å¯ä»¥è·³è¿‡å»æŸ¥è¯¢å¯¹åº”çš„æ–‡ç« éƒ¨åˆ†; å½“ç„¶ä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡æ˜é‡‘æ–‡ç« -[ã€Œä¸€åŠ³æ°¸é€¸ã€ç”±æµ…å…¥æ·±é…ç½®webpack4](https://juejin.im/post/6859888538004783118)

- éœ€æ±‚ï¼šæˆ‘å¸Œæœ›å¯ä»¥æ‰“åŒ…çš„æ—¶å€™ï¼ŒåŒæ—¶ä»åŸæœ¬çš„index.htmlç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œè‡ªå·±å¼•å…¥æ‰“åŒ…å‡ºæ¥å…¶ä»–æ–‡ä»¶ï¼Œæ¯”å¦‚js,cssé‚£äº›ã€‚ï¼ˆç°åœ¨æˆ‘å¾—è‡ªå·±æ‰‹åŠ¨å¼•å…¥æ‰“åŒ…å‡ºæ¥çš„ä¸œè¥¿æ‰èƒ½çœ‹æ•ˆæœï¼‰

```js
// å…ˆå®‰è£…ä¾èµ–
npm i html-webpack-plugin -D
// or
cnpm i html-webpack-plugin -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
const HtmlWebpackPlugin = require('html-webpack-plugin')
...

module.exports = {  
  ...
  plugins: [
    new HtmlWebpackPlugin({
      template: './index.html',//æ¨¡æ¿æ–‡ä»¶åœ°å€
      filename: 'index.html',//æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åå­—
    }),
  ],
};
```
ç„¶åæ‰§è¡Œä¸€æ¬¡æ‰“åŒ…`npm run build`ï¼Œå¦‚å›¾ï¼Œæˆ‘ä»¬ä¼šå‘ç°distç›®å½•ä¸‹é¢å¤šäº†`index.html`,é‚£ä¹ˆåŸæœ¬çš„`index.html`é‡Œé¢å¤šä½™å¼•å…¥äº†`index.js`äº†ï¼Œåº”è¯¥å»æ‰ï¼Œç„¶åå†æ‰“åŒ…ä¸€æ¬¡
![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d3c1366644542cd985036f2b52ce580~tplv-k3u1fbpfcp-zoom-1.image)

æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨æ‰“å¼€ç”Ÿæˆå‡ºæ¥çš„index.htmlï¼Œä¼šå‘ç°ï¼Œæ²¡æœ‰æ ·å¼ï¼Œæ²¡æœ‰èƒŒæ™¯å›¾ï¼Œåªå‰©htmlå’Œäº¤äº’æ•ˆæœäº†ï¼Œå¦‚å›¾
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d686d1d4ee9b487eb4d8a4ebe5417aea~tplv-k3u1fbpfcp-zoom-1.image)

å› æ­¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼Œæ‰“åŒ…å‡ºæ¥éœ€è¦æœ‰æ ·å¼

- éœ€æ±‚ï¼šå°†æ ·å¼æ‰“åŒ…è¿›æ¥

```
// å…ˆå®‰è£…ä¾èµ–
npm i css-loader style-loader -D
// or
cnpm i css-loader style-loader -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
module.exports = {
  ...
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader','css-loader']
      },
    ]
  }
};
```
åœ¨`index.js`æ–‡ä»¶é¦–è¡Œæ·»åŠ (å¥‡ç‰¹å§ï¼æœ¬æ¥cssæ˜¯htmlå¼•å…¥çš„ï¼Œç°åœ¨æ”¹ä¸ºjså¼•å…¥)ï¼š
```js
import './style.css'
```
ç„¶åæŠŠåŸæœ¬çš„`index.html`çš„`<link rel="stylesheet" href="./style.css">`å¼•å…¥csså»æ‰ï¼›å¦å¤–ï¼Œæˆ‘ä»¬è¿˜æ²¡é…ç½®æ‰“åŒ…å›¾ç‰‡ï¼Œæ‰€ä»¥è¿™æ—¶å€™æ‰“åŒ…è‚¯å®šä¼šå‡ºé”™ï¼Œæˆ‘ä»¬å…ˆæŠŠ`style.css`é‡Œé¢å¼•ç”¨èƒŒæ™¯å›¾ç‰‡æ³¨é‡Šæ‰
![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b86a1a9c4d2f4ea5b141ffd841f294da~tplv-k3u1fbpfcp-zoom-1.image)

æ‰§è¡Œ`npm run build`æ‰“åŒ…ï¼Œç„¶åå†æ¬¡ç”¨æµè§ˆå™¨æ‰“å¼€çœ‹çœ‹ï¼Œæ•ˆæœç¬¦åˆé¢„æœŸï¼šé™¤äº†æˆ‘ä»¬æ³¨é‡Šæ‰çš„èƒŒæ™¯å›¾ç‰‡ï¼Œå…¶ä»–æ ·å¼éƒ½æ­£å¸¸å‡ºç°äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹äºæ ·å¼çš„é…ç½®æ²¡æœ‰é—®é¢˜
![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d946bb0e389844e1900f0ebb3ba24217~tplv-k3u1fbpfcp-zoom-1.image)

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä¸æƒ³è¦cssæ ·å¼æœ€ç»ˆå¼„åœ¨htmlé‡Œé¢ï¼Œè€Œæ˜¯å•ç‹¬å‡ºæ¥ä¸€ä¸ªæ–‡ä»¶ï¼Œé¿å…æ ·å¼å¤ªå¤šï¼Œå¯¼è‡´htmlé‡Œé¢æ’å…¥å¤ªå¤šçš„æ ·å¼

```
// å…ˆå®‰è£…ä¾èµ–
npm i mini-css-extract-plugin -D
// or
cnpm i mini-css-extract-plugin -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
const MinniCssExtractPlugin = require('mini-css-extract-plugin')
...
module.exports = {
  ...
  plugins: [
    ...
    new MinniCssExtractPlugin({
      //æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶å
      filename: 'main.css'
    })
  ],
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [ MinniCssExtractPlugin.loader,'css-loader'] // å°†style-loaderæ›¿æ¢äº†
      },
    ]
  }
};
```
å†æ‰§è¡Œä¸€æ¬¡`npm run build`ï¼Œå‘ç°distç›®å½•ä¸‹é¢ç°åœ¨å¤šäº†ä¸€ä¸ª`main.css`,åœ¨åŒç›®å½•ä¸‹é¢çš„`index.html`ä¹Ÿå¼•å…¥äº†è¯¥cssæ–‡ä»¶

- éœ€æ±‚ï¼šå‡ºäºæµè§ˆå™¨å…¼å®¹è€ƒè™‘ï¼Œæ‰“åŒ…å‡ºæ¥çš„cssæ ·å¼æ·»åŠ å‚å•†å‰ç¼€
```
// å…ˆå®‰è£…ä¾èµ–
npm i postcss-loader autoprefixer -D
// or
cnpm i postcss-loader autoprefixer -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
...
module.exports = {
  ...
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [ MinniCssExtractPlugin.loader,'css-loader', 'postcss-loader'] // æ·»åŠ ä¸€ä¸ªpost-loader
      },
    ]
  }
};
```
åœ¨æ ¹ç›®å½•ä¸‹é¢æ·»åŠ ä¸€ä¸ª`postcss.config.js`æ–‡ä»¶
```js
module.exports = {
    plugins: [
        require("autoprefixer")({
            overrideBrowserslist: ["last 2 versions", ">1%"]
        })
    ]
};
```
å†æ‰§è¡Œä¸€æ¬¡`npm run build`ï¼ŒæŸ¥çœ‹`main.css`ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å·²ç»æ·»åŠ äº†å‚å•†å‰ç¼€äº†ï¼Œå…³äºcssçš„æ‰“åŒ…ä¹Ÿå°±å…ˆåˆ°è¿™é‡Œäº†
![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea3cbea3a21f4f55b8fdb7aa9ad1b512~tplv-k3u1fbpfcp-zoom-1.image)

- éœ€æ±‚ï¼šèƒŒæ™¯å›¾ç‰‡ä¹Ÿè¦æ‰“åŒ…è¿›å»

```
// å…ˆå®‰è£…ä¾èµ–
npm i file-loader url-loader -D
// or
cnpm i file-loader url-loader -D
```

åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
...
module.exports = {
  ...
  module: {
    rules: [
      ...
      {
        test: /\.(png|jpg|gif)$/,
        use: [
          {
            loader: 'url-loader',
            options: {
              limit: 50 * 1024,
              loader: 'file-loader',
              esModule: false,
              outputPath: 'public/imgs',
              name: '[name].[ext]'
            },
          },
        ],
      },
    ]
  }
};
```
å°†æˆ‘ä»¬å‰é¢æ³¨é‡Šæ‰çš„èƒŒæ™¯æ ·å¼è§£å¼€ï¼Œå†æ‰§è¡Œä¸€æ¬¡`npm run build`ï¼Œdistç›®å½•ä¸‹é¢çš„å·²ç»å¤šäº†dist/public/imgs/Chihiro.jpg, ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€æ‰“åŒ…å‡ºæ¥çš„`index.html`,å¯ä»¥çœ‹åˆ°ï¼ŒèƒŒæ™¯å›¾ç‰‡å·²ç»å‡ºæ¥äº†

- éœ€æ±‚ï¼šå¤„ç†å¥½äº†html,cssï¼Œå›¾ç‰‡ï¼Œæ¥ä¸‹æ¥æ˜¯jsäº†ï¼Œè½¬åŒ–ä¸ºES5

ç›®å‰æ‰“åŒ…å‡ºæ¥çš„jsä»£ç ï¼Œåªæ˜¯åŸæ ·åœ°å¼„è¿‡æ¥ï¼Œå¹¶æ²¡æœ‰å¤„ç†
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f106b421a1d4694895155fa93ee82ef~tplv-k3u1fbpfcp-zoom-1.image)

```
// å…ˆå®‰è£…ä¾èµ–
npm i babel-loader @babel/core @babel/preset-env @babel/plugin-proposal-class-properties -D
// or
cnpm i babel-loader @babel/core @babel/preset-env @babel/plugin-proposal-class-properties -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
...
module.exports = {
  ...
  module: {
    rules: [
      ...
      {
        test: /\.js$/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: [
                '@babel/preset-env'
            ],
            plugins:[
              ["@babel/plugin-proposal-class-properties", { "loose" : true }]
            ]
          }
        }
      },
    ]
  }
};
```
é…ç½®ä¹‹åï¼Œå†æ¬¡æ‰§è¡Œ`npm run build`, æŸ¥çœ‹æ‰“åŒ…å‡ºæ¥çš„`main.js`,å¯ä»¥çœ‹åˆ°jsä»£ç å·²ç»è¢«è½¬æ¢äº†
![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8a3a05c83344a539869a709410aba48~tplv-k3u1fbpfcp-zoom-1.image)

é…ç½®åˆ°è¿™é‡Œï¼Œæ‰“åŒ…çš„éƒ¨åˆ†åŸºæœ¬æ²¡æœ‰éœ€æ±‚äº†ï¼Œä½†æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ï¼Œå¯ä¸èƒ½åªæ˜¯æ‰“åŒ…ï¼Œè¿˜æœ‰æé«˜å¼€å‘æ•ˆæœæ‰€ä»¥æœ‰äº†å¦‚ä¸‹éœ€æ±‚
- éœ€æ±‚: æˆ‘ä»¬éœ€è¦èƒ½å¤Ÿåœ¨æœ¬åœ°èµ·ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè®©æˆ‘ä»¬å¼€å‘æ—¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ‰“åŒ…æ›´æ–°ä»£ç 

```
// å…ˆå®‰è£…ä¾èµ–
npm i webpack-dev-server -D
// or
cnpm i webpack-dev-server -D
```
åœ¨`webpack.config.js`é‡Œé¢è¿›è¡Œé…ç½®
```js
...
module.exports = {
  ...
  devServer: {
    port: 3000,
    contentBase: './dist',  // èµ·æœåŠ¡çš„åœ°å€(å³å®šä½åˆ°æˆ‘ä»¬çš„è¾“å‡ºæ–‡ä»¶åœ°å€)
    open: true,              // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    compress: true,         // gzipå‹ç¼©
    hot: true,   // å¼€å¯çƒ­æ›´æ–°
  },
  ...
  plugins: [
    ...
    new webpack.HotModuleReplacementPlugin(),
  ],
};
```
åœ¨`package.json`çš„`scripts`å­—æ®µé‡Œé¢åœ¨æ·»åŠ ä¸€å¥å‘½ä»¤
```json
 "scripts": {
    ...
    "dev": "webpack-dev-server --config ./webpack.config.js"
  },

```

è¿™æ¬¡æ‰§è¡Œ`npm run dev`,é¡¹ç›®å°±ä¼šè‡ªåŠ¨è·‘èµ·æ¥ï¼Œè¿è¡Œåœ¨`http://localhost:3000/`,å¹¶ä¸”èƒ½å¤Ÿåœ¨é¡¹ç›®æ–‡ä»¶æ›´æ”¹ä¹‹åè¿›è¡Œæ›´æ–°äº†

#### 3.4 é¡¹ç›®ç»“æ„ä¼˜åŒ–
ä¸Šä¸€èŠ‚çš„æ¼”ç¤ºï¼Œå·²ç»åŸºæœ¬è¯´æ˜äº†é…ç½®çš„è¿‡ç¨‹ï¼Œä»¥åæœ‰éœ€æ±‚åœ¨ä¸Šé¢è¿›è¡Œæ‹“å±•é…ç½®å°±è¡Œã€‚

ç°åœ¨æˆ‘ä»¬çš„é¡¹ç›®æ–‡ä»¶ï¼Œå…¨éƒ¨éƒ½åœ¨æ ¹ç›®å½•ä¸‹é¢ï¼Œæ²¡æœ‰åŒºåˆ†ï¼Œè¿™å¯¹äºä»¥åçš„æ‹“å±•ä¸åˆ©ï¼Œä¸æ–¹ä¾¿ç®¡ç†ï¼›å…¶æ¬¡å°±æ˜¯ï¼Œæˆ‘ä»¬webpackçš„é…ç½®ï¼Œä¹Ÿæ²¡æœ‰èƒ½å¤ŸåŒºåˆ†developmentå’Œproductionæ¨¡å¼ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥è¿›è¡Œæ–‡ä»¶çš„æ‹†åˆ†

- é¦–å…ˆï¼Œæˆ‘ä»¬è¿›è¡Œé¡¹ç›®æ–‡ä»¶çš„ç»“æ„è°ƒæ•´

æ–°å»ºsrcæ–‡ä»¶å¤¹å’Œbuildæ–‡ä»¶å¤¹ï¼Œå°†æ–‡ä»¶è°ƒæ•´å¦‚ä¸‹å›¾
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a836f7b4dfb469e9a7c643784c1edac~tplv-k3u1fbpfcp-zoom-1.image)

åœ¨è¿™ä¹‹åï¼Œéœ€è¦æŠŠæ–‡ä»¶é‡Œé¢çš„å¼•ç”¨ï¼Œé‡æ–°è¿›è¡Œè°ƒæ•´
```js
//index.js
- import './style.css'
+ import './style/style.css'
```
```css
/*style.css*/
- background-image: url('./Chihiro.jpg');
+ background-image: url('../assets/img/Chihiro.jpg');
```

`webpack.config.js`çš„æ”¹åŠ¨å¦‚å›¾
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dacbf6a2f2c645deb2b3c7c7dc76e5be~tplv-k3u1fbpfcp-zoom-1.image)

- ç„¶åwebpacké…ç½®æ–‡ä»¶ç¯å¢ƒåˆ’åˆ†çš„è°ƒæ•´
```js
// å…ˆå®‰è£…ä¾èµ–
npm i webpack-merge -D
// or 
cnpm i webpack-merge -D
```
åœ¨`build`ç›®å½•ä¸‹é¢æ·»åŠ ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯`webpack.dev.js`å’Œ`webpack.prod.js`
![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/553379f4cd0c46a498388422573508ab~tplv-k3u1fbpfcp-zoom-1.image)
```js
// webpack.dev.js
const {merge} = require('webpack-merge')
const base = require('./webpack.config.js')
const path = require('path')

module.exports = merge(base, {
  mode: 'development',
  devtool: 'cheap-module-source-map', //è¿™é‡Œæ˜¯é…ç½®æŠ¥é”™æ—¶ï¼Œè¿½æº¯æºç çš„ä»£ç ä½ç½®
  devServer: {
    port: 3000,
    contentBase:  path.join(__dirname, '../dist'), // èµ·æœåŠ¡çš„åœ°å€(å³å®šä½åˆ°æˆ‘ä»¬çš„è¾“å‡ºæ–‡ä»¶åœ°å€)
    open: true,              // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    compress: true,         // gzipå‹ç¼©
    progress: true
  },
})
```
```js
// webpack.prod.js
const {merge} = require('webpack-merge')
const base = require('./webpack.config.js')

module.exports = merge(base, {
  mode: 'production'
})
```
è€ŒåŸæœ¬çš„çš„`webpack.config.js`å°±åˆ é™¤`devServer`å­—æ®µçš„é…ç½®ï¼Œåªæ”¾å…¬å…±çš„é…ç½®

package.jsoné‡Œé¢çš„å‘½ä»¤çš„é…ç½®æ–‡ä»¶è·¯å¾„ä¹Ÿå°±éœ€è¦æ›´æ”¹äº†
```json
  "scripts": {
    "build": "webpack --config ./build/webpack.prod.js",
    "dev": "webpack-dev-server --config ./build/webpack.dev.js"
  },
```

è‡³æ­¤ï¼Œé¡¹ç›®ç»“æ„çš„è°ƒæ•´ä¹Ÿå®Œæˆäº†ã€‚

### æ•™ç¨‹æ€»ç»“
ä¼˜ç‚¹ï¼š

1. **çº¯ç²¹**ï¼šé¡¹ç›®æ²¡æœ‰é‡‡ç”¨æ¡†æ¶ï¼Œç”¨åŸç”Ÿçš„jsä»£ç ï¼Œå¯ä»¥æ’é™¤æ¡†æ¶å½±å“ï¼Œå•çº¯åœ°å­¦ä¹ webpackå‰ç«¯å·¥ç¨‹åŒ–çš„é…ç½®æµç¨‹

2. **æ¸è¿›**ï¼šé¡¹ç›®ä»æœ€åŸå§‹çš„html,ä¸€æ­¥æ­¥åœ°å±•ç¤ºäº†é¡µé¢çš„å®ç°ï¼›webpacké…ç½®ä¹Ÿæ˜¯é€ä¸ªæéœ€æ±‚ï¼Œé€ä¸ªé…ç½®ï¼Œä¸ä¼šä¸€ä¸‹å­è®©æ–°æ‰‹è¯»è€…çœ¼èŠ±ï¼Œè®©è¯»è€…èƒ½å¤ŸæŠ“ä½ä¸»æµç¨‹ï¼Œæ›´å¥½åœ°ç†è§£

ä¸è¶³ï¼š

1. **ç®€é™‹**ï¼šé¡µé¢çš„å®ç°ï¼Œç”¨çš„flexå¼¹æ€§å¸ƒå±€ï¼Œåœ¨ä¸€äº›æ—§çš„æµè§ˆå™¨å¯èƒ½å‡ºç°é—®é¢˜ï¼›webpacké…ç½®è¿œè¿œä¸æ­¢æˆ‘æ•™ç¨‹å†™çš„é‚£äº›ï¼Œè¿˜æœ‰å¾ˆå¤šï¼Œä¸è¿‡é…ç½®è¿˜æ˜¯ä¸Šé¢é‚£æ ·ï¼Œæœ‰éœ€æ±‚ï¼Œå°±æŸ¥ï¼Œç„¶åé…ç½®ï¼ˆä»£ç åˆ†ç‰‡ã€ä»£ç å‹ç¼©ã€cssé¢„ç¼–è¯‘ç­‰ç­‰ï¼‰

---



ç‚¹ä¸ªèµæˆ–è€…ç»™ä¸ªstarå‘—ï¼Œç å­—æŒºç´¯çš„ï¼Œé¼“åŠ±ä¸€ä¸‹ğŸ¥°ğŸ¥°ğŸ¥°









